<!--
 * @Date: 2020-11-16 14:33:53
 * @LastEditors: pengfei
 * @LastEditTime: 2020-11-27 16:50:53
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app">
      <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </div>
    <script src="./dist/umd/vue.js"></script>
    <script>
      Vue.mixin({
        a: 1,
        beforeCreate() {
          console.log("beforeCreate1");
        },
        created() {
          console.log("created1");
        },
      });

      Vue.mixin({
        b: 2,
        beforeCreate() {
          console.log("beforeCreate2");
        },
        created() {
          console.log("created2");
        },
      });
      let vm = new Vue({
        el: "#app",
        data() {
          return {
            name: "pengfei",
            obj:{
              name:'pidan'
            },
            // a: { b: { e: 2 } },
            a: 4,
            test:{
              test:{
                name:1
              }
            },
            c:[1,2,3]
          };
        },
        created() {
          console.log("created3");
        },
        mounted(){
          console.log("mounted");
        },
        update(){
          console.log("updated")
        },
        watch:{
          'test.test.name':function(val,oldval){
              console.log('watch**********',val,oldval)
          }
        }
      });
      // vm._data.a = { c: 1 };
      // vm._data.a.c = 1;
      // vm._data.b.push(2);
      // vm._data.b[1] = 3;
      // console.log(vm._data);
      vm.a = 10;
      //vue批处理，vue异步更新，更新数据后不能立刻拿到最新的节点
      // nextTick等待页面更新后再获取最终dom
      setTimeout(()=>{
        vm.c.push(6)
        vm.c.push(6)
        vm.c.push(6)
        vm.c.push(6)
        vm.c.push(6)
      //   vm.obj.name = 100
      //   console.log(vm)
      //   vm.$nextTick(()=>{
      //   console.log('$netxTick')
      // })
      vm.test.test.name = 1000
      },5000)
      
    </script>
  </body>
</html>
